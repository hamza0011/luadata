<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"
    />
    <title>LuaData - AI, ML & Data Science Solutions</title>
    <meta
      name="description"
      content="Transform your business with cutting-edge AI and machine learning solutions. Custom ML models, data science consulting, and intelligent automation."
    />

    <!-- Preload Critical Resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

      <!-- Determine Measurement ID BEFORE loading script -->
    <script>
      // REPLACE THESE WITH YOUR ACTUAL MEASUREMENT IDs
      const MEASUREMENT_IDS = {
        'luadata.com': 'G-60DJ61ZW6C',    // Replace with your .com ID
        'luadata.net': 'G-L56055LC36',    // Replace with your .net ID
      };
      
      // Get current hostname
      const hostname = window.location.hostname;
      console.log('Current hostname:', hostname);
      
      // Determine which measurement ID to use
      let measurementId;
      if (hostname.includes('luadata.com')) {
        measurementId = MEASUREMENT_IDS['luadata.com'];
        console.log('Using .com measurement ID');
      } else if (hostname.includes('luadata.net')) {
        measurementId = MEASUREMENT_IDS['luadata.net'];
        console.log('Using .net measurement ID');
      } else {
        // Default to .net for localhost/development
        measurementId = MEASUREMENT_IDS['luadata.net'];
        console.log('Using default (.net) measurement ID for:', hostname);
      }
      
      console.log('Selected Measurement ID:', measurementId);
      
      // Store globally for later use
      window.SELECTED_MEASUREMENT_ID = measurementId;
    </script>

    <!-- Load Google Analytics Script with Selected ID -->
    <script async src=""></script>
    <script>
      // Set the src after we have the measurement ID
      const scripts = document.getElementsByTagName('script');
      const gaScript = scripts[scripts.length - 2]; // The empty script above
      gaScript.src = `https://www.googletagmanager.com/gtag/js?id=${window.SELECTED_MEASUREMENT_ID}`;
    </script>

    <!-- Initialize Google Analytics -->
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      // Configure with the selected measurement ID
      gtag('config', window.SELECTED_MEASUREMENT_ID, {
        page_title: 'LuaData - AI ML Data Science',
        page_location: window.location.href,
      });

      // Google Ads Conversion Tracking (if needed for both domains)
      gtag('config', 'AW-17153791006');
      
      console.log('GA4 initialized with:', window.SELECTED_MEASUREMENT_ID);
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    
    <!-- Form Handler Script -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
          const contactForm = document.querySelector('.contact-form');
          
          if (contactForm) {
              contactForm.addEventListener('submit', function(e) {
                  e.preventDefault();
                  
                  console.log('Form submitted, firing GA4 events...');
                  
                  // Fire gtag events
                  gtag('event', 'generate_lead', {
                      'currency': 'USD',
                      'value': 50,
                      'event_category': 'Lead Generation',
                      'event_label': 'Contact Form Submitted'
                  });
                  
                  gtag('event', 'conversion', {
                      'send_to': 'AW-17153791006/5c18CMjFoNcaEJ6oyPM_',
                      'value': 50.0,
                      'currency': 'USD',
                      'transaction_id': Date.now().toString()
                  });
                  
                  gtag('event', 'form_submit_success', {
                      'event_category': 'Lead Generation',
                      'event_label': 'Contact Form Completed',
                      'value': 50
                  });
                  
                  console.log('GA4 events sent');
                  
                  showSuccessNotification();
                  contactForm.reset();
              });
          }
      });
      // Show success notification
      function showSuccessNotification() {
          // Remove any existing notifications
          const existingNotifications = document.querySelectorAll('.form-notification');
          existingNotifications.forEach(notification => {
              notification.remove();
          });
          
          // Create success notification
          const notification = document.createElement('div');
          notification.className = 'form-notification success-notification';
          notification.innerHTML = `
              <div class="notification-content">
                  <div class="notification-icon">
                      âœ“
                  </div>
                  <div class="notification-text">
                      <strong>Submission received!</strong>
                      <p>We will get back to you at our earliest.</p>
                  </div>
              </div>
          `;
          
          // Insert notification after the form
          const contactForm = document.querySelector('.contact-form');
          if (contactForm) {
              contactForm.parentNode.insertBefore(notification, contactForm.nextSibling);
              
              // Show notification with animation
              setTimeout(() => {
                  notification.style.opacity = '1';
                  notification.style.transform = 'translateY(0)';
              }, 100);
              
              // Auto-hide after 5 seconds
              setTimeout(() => {
                  notification.style.opacity = '0';
                  notification.style.transform = 'translateY(-20px)';
                  setTimeout(() => {
                      if (notification.parentNode) {
                          notification.parentNode.removeChild(notification);
                      }
                  }, 300);
              }, 5000);
          }
      }
    </script>
    <!-- Hidden form for Netlify bot detection -->
<form name="contact" netlify netlify-honeypot="bot-field" hidden>
  <input type="text" name="name" />
  <input type="email" name="email" />
  <input type="tel" name="phone" />
  <textarea name="message"></textarea>
</form>
</body>
  </body>
</html>
